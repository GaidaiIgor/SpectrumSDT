<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML3.2 EN">
<HTML>
<HEAD> <link rel="canonical" href="https://slepc.upv.es/documentation/current/docs/manualpages/ST/STSetMatMode.html" />
<META NAME="GENERATOR" CONTENT="DOCTEXT">
<link rel="stylesheet" href="/slepc.css" type="text/css">
<TITLE>STSetMatMode</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFF">
   <div id="version" align=right><b>slepc-3.13.3 2020-06-14</b></div>
   <div id="bugreport" align=right><a href="mailto:slepc-maint@upv.es?subject=Typo or Error in Documentation &body=Please describe the typo or error in the documentation: slepc-3.13.3 v3.13.3 docs/manualpages/ST/STSetMatMode.html "><small>Report Typos and Errors</small></a></div>
<H1>STSetMatMode</H1>
Sets a flag to indicate how the transformed matrices are being stored in the spectral transformations. 
<H3><FONT COLOR="#883300">Synopsis</FONT></H3>
<PRE>
#include "slepcst.h" 
PetscErrorCode <A HREF="../ST/STSetMatMode.html#STSetMatMode">STSetMatMode</A>(<A HREF="../ST/ST.html#ST">ST</A> st,<A HREF="../ST/STMatMode.html#STMatMode">STMatMode</A> mode)
</PRE>
Logically Collective on st
<P>
<H3><FONT COLOR="#883300">Input Parameters</FONT></H3>
<TABLE border="0" cellpadding="0" cellspacing="0">
<TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>st </B></TD><TD>&nbsp;- the spectral transformation context
</TD></TR>
<TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>mode </B></TD><TD>&nbsp;- the mode flag, one of <A HREF="../ST/STMatMode.html#STMatMode">ST_MATMODE_COPY</A>,
<A HREF="../ST/STMatMode.html#STMatMode">ST_MATMODE_INPLACE</A>, or <A HREF="../ST/STMatMode.html#STMatMode">ST_MATMODE_SHELL</A>
</TD></TR></TABLE>
<P>
<H3><FONT COLOR="#883300">Options Database Key</FONT></H3>
<TABLE border="0" cellpadding="0" cellspacing="0"><TR><TD WIDTH=40></TD><TD ALIGN=LEFT VALIGN=TOP><B>-st_matmode &lt;mode&gt; </B></TD><TD>&nbsp;- Indicates the mode flag, where &lt;mode&gt; is one of
'copy', 'inplace', 'shell' (see explanation below).
</TD></TR></TABLE>
<P>
<H3><FONT COLOR="#883300">Notes</FONT></H3>
By default (<A HREF="../ST/STMatMode.html#STMatMode">ST_MATMODE_COPY</A>), a copy of matrix A is made and then
this copy is modified explicitly, e.g. A &lt;- (A - s B).
<P>
With <A HREF="../ST/STMatMode.html#STMatMode">ST_MATMODE_INPLACE</A>, the original matrix A is modified at <A HREF="../ST/STSetUp.html#STSetUp">STSetUp</A>()
and changes are reverted at the end of the computations. With respect to
the previous one, this mode avoids a copy of matrix A. However, a
drawback is that the recovered matrix might be slightly different
from the original one (due to roundoff).
<P>
With <A HREF="../ST/STMatMode.html#STMatMode">ST_MATMODE_SHELL</A>, the solver works with an implicit shell
matrix that represents the shifted matrix. This mode is the most efficient
in creating the shifted matrix but it places serious limitations to the
linear solves performed in each iteration of the eigensolver (typically,
only interative solvers with Jacobi preconditioning can be used).
<P>
In the two first modes the efficiency of the computation
can be controlled with <A HREF="../ST/STSetMatStructure.html#STSetMatStructure">STSetMatStructure</A>().
<P>

<P>
<H3><FONT COLOR="#883300">See Also</FONT></H3>
 <A HREF="../ST/STSetMatrices.html#STSetMatrices">STSetMatrices</A>(), <A HREF="../ST/STSetMatStructure.html#STSetMatStructure">STSetMatStructure</A>(), <A HREF="../ST/STGetMatMode.html#STGetMatMode">STGetMatMode</A>(), <A HREF="../ST/STMatMode.html#STMatMode">STMatMode</A>
<BR><P><B><FONT COLOR="#883300">Location: </FONT></B><A HREF="../../../src/sys/classes/st/interface/stset.c.html#STSetMatMode">src/sys/classes/st/interface/stset.c</A>
<P><H3><FONT COLOR="#883300">Examples</FONT></H3>
<A HREF="../../../src/pep/tutorials/ex28.c.html">src/pep/tutorials/ex28.c.html</A><BR>
<BR><A HREF="./index.html">Index of all ST routines</A>
<BR><A HREF="../../index.html">Table of Contents for all manual pages</A>
<BR><A HREF="../singleindex.html">Index of all manual pages</A>
</BODY></HTML>
